万维网  
===== 

前两节深入讨论了电线、信号、交换机、数据包       
路由器以及协议，它们共同组成了互联网   
这次我们向上再抽象一层(封装)，来讨论万维网    
[上一节]]()

## 万维网(www)
万维网(World Wide Web)和互联网(Internet)不是一回事   
尽管人们经常混用这两个词  
![1](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-1.jpg)  
互联网是传递数据的管道，各种程序都会用，  
其中传输最多数据的程序是万维网  
分布在全球数百万个服务器上
可以用"浏览器"来访问万维网
这集我们会深入讲解万维网
万维网的最基本单位，是单个页面

页面有内容, 也有去往其他页面的链接, 这些链接叫"超链接"

都见过: 可以点击的文字或图片，把你送往另一个页面
![2](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-2.jpg)  
这就是"万维网"名字的由来
现在说起来觉得很简单，但在超链接做出来之前

计算机上每次想看另一个信息时  
你需要在文件系统中找到它, 或是把地址输入搜索框  
有了超链接, 你可以在相关主题间轻松切换  
超链接的价值早在1945年,就被Vannevar Bush意识到了     
他发过一篇文章, 描述一个假想的机器Memex:      
![3](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-3.jpg)    
> "选中一个物品会引起另一个物品被立即选中"    
>> 他解释道："将两样东西联系在一起的过程十分重要    
>> 在任何时候，当其中一件东西进入视线    
>> 只需点一下按钮，立马就能回忆起另一件"     

![4](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-4.jpg)  
因为文字超链接是如此强大  

## 超文本  
它得到了一个同样厉害的名字："超文本"！      
如今超文本最常指向的，是另一个网页      
然后网页由浏览器渲染  

## URL  
为了使网页能相互连接，每个网页需要一个唯一的地址      
这个地址叫 "统一资源定位器"，简称URL      
一个网页URL的例子是 `"https://github.com/KissMyLady"`    
就像上节讨论的，当你访问一个网站时    
1、计算机首先会做"DNS查找"     
> "DNS查找"的输入是一个域名, 比如`github.com`    
> 现在有了IP地址, 你的浏览器会打开一个TCP连接到这个IP地址   
> 这个地址运行着"网络服务器", 网络服务器的标准端口是 80 端口
? 这时，你的计算机连到了`github.com`的服务器

2、下一步是向服务器请求"KissMyLady"这个页面
> 这里会用"超文本传输协议"(HTTP)
> 只有一个指令，"GET" 指令
> 幸运的是，对当时来说也够用
> 因为我们想要的是"KissMyLady"页面

我们向服务器发送指令:"GET /KissMyLady"  
该指令以"ASCII编码"发送到服务器  
服务器会返回该地址对应的网页, 然后浏览器会渲染到屏幕上  

如果用户点了另一个链接，计算机会重新发一个GET请求  
你浏览网站时，这个步骤会不断重复  
在之后的版本，HTTP添加了状态码  
状态码放在请求前面  
举例，状态码 200 代表 "网页找到了,给你"  
状态码400~499代表客户端出错  
比如网页不存在，就是可怕的404错误  

"超文本"的存储和发送都是以普通文本形式  
举个例子，编码可能是ASCII或UTF-16
因为如果只有纯文本, 无法表明什么是链接，什么不是链接    
所以有必要开发一种标记方法  

## 超文本标记语言(HTML)  
因此开发了超文本标记语言(HTML)  
有18种HTML指令, 仅此而已   
> 如果把这些文字存入记事本或文本编辑器然后文件取名"test.html"    
> 就可以拖入浏览器打开     
当然，如今的网页更复杂一些(电脑浏览网页时, 按下F12就可以查看HTML)      
最新版的HTML5,有100多种标签    
图片标签，表格标签，表单标签，按钮标签，等等    
还有其他相关技术,比如层叠样式表(CSS)    
和JavaScript，这俩可以加进网页，做一些更厉害的事  


## 浏览器  
让我们回到浏览器  
网页浏览器可以和网页服务器沟通
浏览器不仅获取网页和媒体，获取后还负责显示.
第一个浏览器和服务器   
是Tim Berners-Lee在1990年写的，一共花了2个月  
那时候他在瑞士的"欧洲核子研究所"工作  
![5](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-5.jpg)   
两个月能做这些很不错啊！  
不过公平点说，他研究超文本系统已经有十几年了   

### 1991万维网诞生  
和同事在CERN内部使用一阵子后  
在1991年发布了出去, 万维网就此诞生  
重要的是, 万维网有开放标准
大家都可以开发新服务器和新浏览器
因此"伊利诺伊大学香槟分校"的一个小组
![6](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-6.jpg)  
第一个可以在文字旁边显示图片的浏览器  
之前浏览器要单开一个新窗口显示图片  
还引进了书签等新功能，界面友好，使它很受欢迎  

尽管看上去硬邦邦的，但和如今的浏览器长的差不多  

## 服务器面世   
1990年代末有许多浏览器面世  
也有很多服务器面世  
比如Apache和微软互联网信息服务(IIS)  
每天都有新网站冒出来，如今的网络巨头  
比如亚马逊和 eBay，创始于1990年代中期
那是个黄金时代！


## 搜索引擎  
随着万维网日益繁荣，人们越来越需要搜索
如果你知道网站地址, 比如`github.com`直接输入浏览器就行
如果不知道地址呢？    
比如想找可爱小姐姐的图片    
现在就要！ 但去哪里找呢？  
起初人们会维护一个目录，链接到其他网站

其中最有名的叫"Jerry和David的万维网指南"
1994年改名为Yahoo  
随着网络越来越大，人工编辑的目录变得不便利  
所以开发了搜索引擎  

### 最早的搜索引擎   
长的最像现代搜索引擎的最早搜素引擎，叫JumpStation  
由Jonathon Fletcher于1993年在斯特林大学创建  
它有3个部分   
#### 1、第一个是爬虫，一个跟着链接到处跑的软件
每当看到新链接，就加进自己的列表里
每当看到新链接，就加进自己的列表里

#### 2、第二个部分是不断扩张的索引
记录访问过的网页上，出现过哪些词

#### 3、最后一个部分，是查询索引的搜索算法  
举个例子，如果我在 JumpStation 输入"猫"  
每个有"猫"这个词的网页都会出现  

### 搜索引擎排名方式  
早期搜索引擎的排名方式 非常简单     
取决于 搜索词在页面上的出现次数      
刚开始还行，直到有人开始钻空子    
比如在网页上写几百个"猫"，把人们吸引过来    
#### 谷歌成名的一个很大原因是，创造了一个聪明的算法来规避这个问题    
> 与其信任网页上的内容，搜索引擎会看其他网站 有没有链接到这个网站  
> 如果只是写满"猫"的垃圾网站，没有网站会指向它   
> 如果有关于猫的有用内容，有网站会指向它    
> 所以这些"反向链接"的数量，特别是有信誉的网站   
> 代表了网站质量   
两年后分离出来，演变成如今的谷歌  

### 自己动手写爬虫  
- [Python爬虫](https://github.com/KissMyLady/RobotSpiders_is_come_in)


## 网络中立性  
最后我想讲一个词，你最近可能经常听到  
"Net Neutrality".  
网络中立性  
现在你对数据包，路由和万维网，有了个大体概念  
足够你理解这个争论的核心点，至少从技术角度  
简单说"网络中立性"是 
> 应该平等对待所有数据包  
> 不论这个数据包是我的邮件，或者是你在看视频  
> 速度和优先级应该是一样的  


### 但很多公司会乐意让它们的数据优先到达  
举 例:    
> 它们不但是大型互联网服务提供商，而且拥有多家电视频道   
> 这些公司可以让自己的内容优先到达, 节流其他线上视频 
> 节流(Throttled)意思是故意给更少带宽和更低优先级


支持网络中立性的人说: 
> 没有中立性后，服务商可以推出提速的"高级套餐", 给剥削性商业模式埋下种子    
> 互联网服务供应商成为信息的"守门人", 它们有着强烈的动机去碾压对手    
另外, 大公司可以花钱买特权  
![7](https://github.com/KissMyLady/Computer/blob/master/Image/Works/y-7.jpg)  


### 另一方面，从技术原因看  
也许你会希望不同数据传输速度不同  
你希望的视频网站优先级更高，邮件晚几秒没关系    
而反对"网络中立性"的人认为，市场竞争会阻碍不良行为    
如果供应商把客户喜欢的网站降速, 客户会离开供应商  
这场争辩还会持续很久, 但重要的是:  
你应该自己主动了解更多信息   
因为"网络中立性"的影响十分复杂而且广泛  


## 接下来  

